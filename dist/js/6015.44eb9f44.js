"use strict";(global["webpackChunkkbide"]=global["webpackChunkkbide"]||[]).push([[6015],{56015:(e,t,n)=>{function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function l(e,t){if(null==e)return{};var n,r,o=i(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function u(e,t){return c(e)||d(e,t)||f(e,t)||v()}function c(e){if(Array.isArray(e))return e}function d(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done);r=!0)if(n.push(i.value),t&&n.length===t)break}catch(u){o=!0,a=u}finally{try{r||null==l["return"]||l["return"]()}finally{if(o)throw a}}return n}}function f(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}}function m(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return o.length>=e.length?e.apply(this,o):function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t.apply(n,[].concat(o,r))}}}function b(e){return{}.toString.call(e).includes("Object")}function w(e){return!Object.keys(e).length}function O(e){return"function"===typeof e}function j(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function S(e,t){return b(t)||L("changeType"),Object.keys(t).some(function(t){return!j(e,t)})&&L("changeField"),t}function M(e){O(e)||L("selectorType")}function P(e){O(e)||b(e)||L("handlerType"),b(e)&&Object.values(e).some(function(e){return!O(e)})&&L("handlersType")}function E(e){e||L("initialIsRequired"),b(e)||L("initialType"),w(e)&&L("initialContent")}function k(e,t){throw new Error(e[t]||e["default"])}n.r(t),n.d(t,{DiffEditor:()=>et,Editor:()=>$e,VueMonacoDiffEditor:()=>et,VueMonacoEditor:()=>$e,default:()=>$e,install:()=>nt,loader:()=>ye,useMonaco:()=>Ie});var R={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},L=m(k)(R),I={changes:S,selector:M,handler:P,initial:E};function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};I.initial(e),I.handler(t);var n={current:e},r=m(D)(n,t),o=m(x)(n),a=m(I.changes)(e),i=m(T)(n);function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return I.selector(e),e(n.current)}function u(e){y(r,o,a,i)(e)}return[l,u]}function T(e,t){return O(t)?t(e.current):t}function x(e,t){return e.current=h(h({},e.current),t),t}function D(e,t,n){return O(t)?t(e.current):Object.keys(n).forEach(function(n){var r;return null===(r=t[n])||void 0===r?void 0:r.call(t,e.current[n])}),n}var A={create:V};const C=A;var F={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};const N=F;function _(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return o.length>=e.length?e.apply(this,o):function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t.apply(n,[].concat(o,r))}}}const q=_;function z(e){return{}.toString.call(e).includes("Object")}const U=z;function B(e){return e||G("configIsRequired"),U(e)||G("configType"),e.urls?($(),{paths:{vs:e.urls.monacoBase}}):e}function $(){console.warn(Y.deprecation)}function W(e,t){throw new Error(e[t]||e["default"])}var Y={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},G=q(W)(Y),H={config:B};const J=H;var K=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}};const Q=K;function X(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],X(e[n],t[n]))}),a(a({},e),t)}const Z=X;var ee={type:"cancelation",msg:"operation is manually canceled"};function te(e){var t=!1,n=new Promise(function(n,r){e.then(function(e){return t?r(ee):n(e)}),e["catch"](r)});return n.cancel=function(){return t=!0},n}const ne=te;var re=C.create({config:N,isInitialized:!1,resolve:null,reject:null,monaco:null}),oe=u(re,2),ae=oe[0],ie=oe[1];function le(e){var t=J.config(e),n=t.monaco,r=l(t,["monaco"]);ie(function(e){return{config:Z(e.config,r),monaco:n}})}function ue(){var e=ae(function(e){var t=e.monaco,n=e.isInitialized,r=e.resolve;return{monaco:t,isInitialized:n,resolve:r}});if(!e.isInitialized){if(ie({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),ne(ge);if(window.monaco&&window.monaco.editor)return ve(window.monaco),e.resolve(window.monaco),ne(ge);Q(ce,fe)(se)}return ne(ge)}function ce(e){return document.body.appendChild(e)}function de(e){var t=document.createElement("script");return e&&(t.src=e),t}function fe(e){var t=ae(function(e){var t=e.config,n=e.reject;return{config:t,reject:n}}),n=de("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function se(){var e=ae(function(e){var t=e.config,n=e.resolve,r=e.reject;return{config:t,resolve:n,reject:r}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(t){ve(t),e.resolve(t)},function(t){e.reject(t)})}function ve(e){ae().monaco||ie({monaco:e})}function pe(){return ae(function(e){var t=e.monaco;return t})}var ge=new Promise(function(e,t){return ie({resolve:e,reject:t})}),he={config:le,init:ue,__getMonacoInstance:pe};const ye=he;var me=n(49347);var be=Object.defineProperty,we=Object.defineProperties,Oe=Object.getOwnPropertyDescriptors,je=Object.getOwnPropertySymbols,Se=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable,Pe=(e,t,n)=>t in e?be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ee=(e,t)=>{for(var n in t||(t={}))Se.call(t,n)&&Pe(e,n,t[n]);if(je)for(var n of je(t))Me.call(t,n)&&Pe(e,n,t[n]);return e},ke=(e,t)=>we(e,Oe(t));const Re={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}};function Le(e,t){const n=(0,me.computed)(()=>{const{width:t,height:n}=e;return ke(Ee({},Re.wrapper),{width:t,height:n})}),r=(0,me.computed)(()=>Ee(Ee({},Re.fullWidth),!t.value&&Re.hide));return{wrapperStyle:n,containerStyle:r}}function Ie(){const e=(0,me.shallowRef)(ye.__getMonacoInstance()),t=(0,me.ref)(!1);let n;(0,me.onMounted)(()=>{e.value||(n=ye.init(),n.then(t=>e.value=t).catch(e=>{"cancelation"!==(null==e?void 0:e.type)&&(t.value=!0,console.error("Monaco initialization error:",e))}))});const r=()=>null==n?void 0:n.cancel();return{monacoRef:e,unload:r,isLoadFailed:t}}function Ve(e){return"function"==typeof e?e():e}function Te(e){return void 0===e}function xe(e,t,n,r){return De(e,r)||Ae(e,t,n,r)}function De(e,t){return e.editor.getModel(Ce(e,t))}function Ae(e,t,n,r){return e.editor.createModel(t,n,r?Ce(e,r):void 0)}function Ce(e,t){return e.Uri.parse(t)}var Fe=Object.defineProperty,Ne=Object.getOwnPropertySymbols,_e=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable,ze=(e,t,n)=>t in e?Fe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ue=(e,t)=>{for(var n in t||(t={}))_e.call(t,n)&&ze(e,n,t[n]);if(Ne)for(var n of Ne(t))qe.call(t,n)&&ze(e,n,t[n]);return e};const Be={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"};var $e=(0,me.defineComponent)({name:"VueMonacoEditor",model:{prop:"value",event:"update:value"},props:{defaultValue:String,defaultPath:String,defaultLanguage:String,value:String,language:String,path:String,theme:{type:String,default:"vs"},line:Number,options:{type:Object,default:()=>({})},overrideServices:{type:Object,default:()=>({})},saveViewState:{type:Boolean,default:!0},width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},className:String},emits:["update:value","beforeMount","mount","change","validate"],setup(e,t){const n=new Map,r=(0,me.shallowRef)(null),{monacoRef:o,unload:a,isLoadFailed:i}=Ie(),{editorRef:l}=We(t,e,o,r),{disposeValidator:u}=Ye(t,e,o,l),c=(0,me.computed)(()=>!!o.value&&!!l.value),{wrapperStyle:d,containerStyle:f}=Le(e,c);return(0,me.onUnmounted)(()=>{var e,t;null==(e=u.value)||e.call(u),l.value?(null==(t=l.value.getModel())||t.dispose(),l.value.dispose()):a()}),(0,me.watch)([()=>e.path,()=>e.value,()=>e.language,()=>e.line],([t,r,a,i],[u,d,f,s])=>{if(c.value){if(t!==u){const c=xe(o.value,r||e.defaultValue||"",a||e.defaultLanguage||"",t||e.defaultPath||"");return e.saveViewState&&n.set(u,l.value.saveViewState()),l.value.setModel(c),e.saveViewState&&l.value.restoreViewState(n.get(t)),void(Te(i)||l.value.revealLine(i))}l.value.getValue()!==r&&l.value.setValue(r),a!==f&&o.value.editor.setModelLanguage(l.value.getModel(),a),Te(i)||i===s||l.value.revealLine(i)}}),(0,me.watch)(()=>e.options,e=>l.value&&l.value.updateOptions(e),{deep:!0}),(0,me.watch)(()=>e.theme,e=>o.value&&o.value.editor.setTheme(e)),{containerRef:r,isEditorReady:c,isLoadFailed:i,wrapperStyle:d,containerStyle:f}},render(){const{$slots:e,isEditorReady:t,isLoadFailed:n,wrapperStyle:r,containerStyle:o,className:a}=this;return(0,me.h)("div",{style:r},[!t&&(0,me.h)("div",{style:Be},n?e.failure?Ve(e.failure):"load failed":e.default?Ve(e.default):"loading..."),(0,me.h)("div",{ref:"containerRef",key:"monaco_editor_container",style:o,class:a})])}});function We({emit:e},t,n,r){const o=(0,me.shallowRef)(null);function a(){var a;if(!r.value||!n.value||o.value)return;e("beforeMount",n.value);const i=t.path||t.defaultPath,l=xe(n.value,t.value||t.defaultValue||"",t.language||t.defaultLanguage||"",i||"");o.value=n.value.editor.create(r.value,Ue({model:l,theme:t.theme,automaticLayout:!0,autoIndent:"brackets",formatOnPaste:!0,formatOnType:!0},t.options),t.overrideServices),null==(a=o.value)||a.onDidChangeModelContent(n=>{const r=o.value.getValue();r!==t.value&&(e("update:value",r),e("change",r,n))}),o.value&&!Te(t.line)&&o.value.revealLine(t.line),e("mount",o.value,n.value)}return(0,me.onMounted)(()=>{const e=(0,me.watch)(n,()=>{r.value&&n.value&&((0,me.nextTick)(()=>e()),a())},{immediate:!0})}),{editorRef:o}}function Ye({emit:e},t,n,r){const o=(0,me.ref)(null),a=(0,me.watch)([n,r],()=>{if(n.value&&r.value){(0,me.nextTick)(()=>a());const t=n.value.editor.onDidChangeMarkers(t=>{var o,a;const i=null==(a=null==(o=r.value)?void 0:o.getModel())?void 0:a.uri;if(i){const r=t.find(e=>e.path===i.path);if(r){const t=n.value.editor.getModelMarkers({resource:i});e("validate",t)}}});o.value=()=>null==t?void 0:t.dispose()}});return{disposeValidator:o}}var Ge=Object.defineProperty,He=Object.getOwnPropertySymbols,Je=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable,Qe=(e,t,n)=>t in e?Ge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xe=(e,t)=>{for(var n in t||(t={}))Je.call(t,n)&&Qe(e,n,t[n]);if(He)for(var n of He(t))Ke.call(t,n)&&Qe(e,n,t[n]);return e};const Ze={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"};var et=(0,me.defineComponent)({name:"VueMonacoDiffEditor",props:{original:String,modified:String,language:String,originalLanguage:String,modifiedLanguage:String,originalModelPath:String,modifiedModelPath:String,theme:{type:String,default:"vs"},options:{type:Object,default:()=>({})},width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},className:String},setup(e,t){const n=(0,me.shallowRef)(null),{monacoRef:r,unload:o,isLoadFailed:a}=Ie(),{diffEditorRef:i}=tt(t,e,r,n),l=(0,me.computed)(()=>!!r.value&&!!i.value),{wrapperStyle:u,containerStyle:c}=Le(e,l);return(0,me.onUnmounted)(()=>{var e,t,n,a,l,u,c,d;!r.value&&o();const f=null==(t=null==(e=i.value)?void 0:e.getModel)?void 0:t.call(e);null==(a=null==(n=null==f?void 0:f.original)?void 0:n.dispose)||a.call(n),null==(u=null==(l=null==f?void 0:f.modified)?void 0:l.dispose)||u.call(l),null==(d=null==(c=i.value)?void 0:c.dispose)||d.call(c)}),(0,me.watch)([()=>e.originalModelPath,()=>e.original,()=>e.originalLanguage,()=>e.language],([e,t,n,o],[a,u,c,d])=>{if(!l.value)return;const f=i.value.getOriginalEditor();if(e!==a){const a=xe(r.value,t||"",n||o||"text",e||"");return void f.setModel(a)}t!==f.getValue()&&f.setValue(t||""),n===c&&o===d||r.value.editor.setModelLanguage(i.value.getModel().original,n||o||"text")}),(0,me.watch)([()=>e.modifiedModelPath,()=>e.modified,()=>e.modifiedLanguage,()=>e.language],([e,t,n,o],[a,u,c,d])=>{if(!l.value)return;const f=i.value.getModifiedEditor();if(a!==e){const a=xe(r.value,t||"",n||o||"text",e||"");return void f.setModel(a)}if(t!==f.getValue()){const e=r.value.editor.EditorOption.readOnly;f.getOption(e)?f.setValue(t||""):(f.executeEdits("",[{range:f.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),f.pushUndoStop())}n===c&&o===d||r.value.editor.setModelLanguage(i.value.getModel().modified,n||o||"text")}),(0,me.watch)(()=>e.theme,()=>{var t;return null==(t=r.value)?void 0:t.editor.setTheme(e.theme)}),(0,me.watch)(()=>e.options,()=>{var t;return null==(t=i.value)?void 0:t.updateOptions(e.options)},{deep:!0}),{containerRef:n,isDiffEditorReady:l,isLoadFailed:a,wrapperStyle:u,containerStyle:c}},render(){const{$slots:e,isDiffEditorReady:t,isLoadFailed:n,wrapperStyle:r,containerStyle:o,className:a}=this;return(0,me.h)("div",{style:r},[!t&&(0,me.h)("div",{style:Ze},n?e.failure?Ve(e.failure):"load failed":e.default?Ve(e.default):"loading..."),(0,me.h)("div",{ref:"containerRef",key:"monaco_diff_editor_container",style:o,class:a})])}});function tt({emit:e},t,n,r){const o=(0,me.shallowRef)(null);function a(){var a;if(!r.value||!n.value||o.value)return;e("beforeMount",n.value),o.value=n.value.editor.createDiffEditor(r.value,Xe({automaticLayout:!0,autoIndent:"brackets",theme:t.theme,formatOnPaste:!0,formatOnType:!0},t.options));const i=xe(n.value,t.original||"",t.originalLanguage||t.language||"text",t.originalModelPath||""),l=xe(n.value,t.modified||"",t.modifiedLanguage||t.language||"text",t.modifiedModelPath||"");null==(a=o.value)||a.setModel({original:i,modified:l}),e("mount",o.value,n.value)}return(0,me.onMounted)(()=>{const e=(0,me.watch)(n,()=>{r.value&&n.value&&((0,me.nextTick)(()=>e()),a())},{immediate:!0})}),{diffEditorRef:o}}function nt(e,t){t&&ye.config(t),e.component($e.name,$e),e.component(et.name,et)}}}]);
//# sourceMappingURL=6015.44eb9f44.js.map