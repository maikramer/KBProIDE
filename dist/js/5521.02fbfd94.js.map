{"version":3,"file":"js/5521.02fbfd94.js","mappings":"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","sources":["webpack://kbide/./src/engine/views/AppToolbar.vue","webpack://kbide/./src/engine/views/AppToolbar.vue?6419"],"sourcesContent":["<template>\n  <v-toolbar\n    color=\"primary\"\n    fixed\n    dark\n    app\n    height=\"64px\"\n  >\n    <v-toolbar-title v-if=\"!$route.meta.hide_drawer\" class=\"ml-0 pl-0\">\n      <v-toolbar-side-icon @click.stop=\"handleDrawerToggle\"></v-toolbar-side-icon>\n    </v-toolbar-title>\n\n    <v-tooltip bottom>\n      <template v-slot:activator=\"{ on }\">\n        <img v-on=\"on\" src=\"/static/logo/KBIDE.png\" height=\"45\"\n             alt=\"Problem? report me at fb.com/comdet\"\n             class=\"mr-3\"\n             style=\"border-radius: 8px; background-color: #ffffffa8; //margin-top: 4px;\">\n      </template>\n      <span>KBIDE by MakerAsia</span>\n    </v-tooltip>\n    <v-tooltip bottom>\n      <template v-slot:activator=\"{ on }\">\n        <img v-on=\"on\" src=\"/static/logo/kidcom_128.png\" height=\"45\"\n             alt=\"KidBright Community\"\n             class=\"mr-2\"\n             style=\"border-radius: 8px; background-color: rgba(255, 255, 255, 0.8); //margin-top: 4px;\">\n      </template>\n      <span>KidBright Community</span>\n    </v-tooltip>\n\n    <!-- dynamic left toolbar -->\n    <template v-for=\"(comp,compName) in toolbars\">\n      <template v-for=\"(toolbarTarget,tbName) in comp\">\n        <transition name=\"fade\">\n        <async-component :target=\"toolbarTarget\" :key=\"compName+'.'+tbName\"/>\n        </transition>\n      </template>\n    </template>\n\n    <v-divider class=\"mx-1\" inset vertical></v-divider>\n\n    <!-- load board package toolbar -->\n    <template v-for=\"(comp,index) in appToolbarComp\">\n      <template v-for=\"(compName,index) in comp.comp\">\n        <transition name=\"fade\">\n        <component v-if=\"comp.info.loaded === true\" :is=\"compName\" :key=\"comp.name+'.'+index\"></component>\n        </transition>\n      </template>\n    </template>\n\n    <!-- load board package toolbar -->\n    <template v-for=\"(comp,index) in toolbarComp\">\n      <template v-for=\"(compName,index) in comp.comp\">\n        <transition name=\"fade\">\n          <component v-if=\"comp.info.loaded === true\" :is=\"compName\" :key=\"comp.name+'.'+index\"></component>\n        </transition>\n      </template>\n    </template>\n\n\n    <v-spacer></v-spacer>\n\n    <!-- load app package actionbar -->\n    <template v-for=\"(comp,index) in appActionbarComp\">\n      <template v-for=\"(compName,index) in comp.comp\">\n        <transition name=\"fade\">\n        <component v-if=\"comp.info.loaded === true\" :is=\"compName\" :key=\"comp.name+'.'+index\"></component>\n        </transition>\n      </template>\n    </template>\n\n    <v-divider class=\"mx-1\" inset vertical></v-divider>\n\n    <!-- load dynamic actionbar -->\n    <template v-for=\"(comp,compName) in actionbar\">\n      <template v-for=\"(toolbarTarget,tbName) in comp\">\n        <transition name=\"fade\">\n        <async-component :target=\"toolbarTarget\" :key=\"compName+'.'+tbName\"/>\n        </transition>\n      </template>\n    </template>\n\n    <v-divider class=\"mx-1\" inset vertical></v-divider>\n\n    <!-- load board package actionbar -->\n    <template v-for=\"(comp,index) in actionbarComp\">\n      <template v-for=\"(compName,index) in comp.comp\">\n        <transition name=\"fade\">\n        <component v-if=\"comp.info.loaded === true\" :is=\"compName\" :key=\"comp.name+'.'+index\"></component>\n        </transition>\n      </template>\n    </template>\n\n    <v-divider class=\"mx-1\" inset vertical></v-divider>\n\n    <v-btn icon @click=\"handleFullScreen()\">\n      <v-icon>fullscreen</v-icon>\n    </v-btn>\n    <notification></notification>\n  </v-toolbar>\n</template>\n<script>\nimport Vue from 'vue';\nimport util from '@/engine/utils';\nimport cm from '@/engine/ComponentManager';\nimport bm from '@/engine/BoardManager';\nimport pm from '@/engine/PackageManager';\nlet mother = null;\nexport default {\n  name: 'app-toolbar',\n  components: {\n    notification : ()=> import(\"@/engine/views/Notification\"),\n    AsyncComponent : ()=> import(\"@/engine/AsyncComponent\"),\n  },\n  data:() => ({\n    toolbars : [],\n    actionbar : [],\n    toolbarComp : [],\n    actionbarComp : [],\n    appToolbarComp : [],\n    appActionbarComp : [],\n  }),\n  mounted(){\n    this.$emit('mounted',this);\n  },\n  created(){\n    this.$emit('created',this);\n  },\n  methods: {\n    handleDrawerToggle () {\n      window.getApp.$emit('APP_DRAWER_TOGGLED');\n    },\n    handleFullScreen () {\n      util.toggleFullScreen();\n    },\n    processStaticToolbar : async(t = this)=>{\n      t.toolbars = cm.listToolbar;\n      t.actionbar = cm.listActionbar;\n    },\n    processToolbar : async function(t=this){\n      t.toolbarComp = [];\n      t.actionbarComp = [];\n      let boardActionBar = await bm.listActionbar(Vue.prototype.$global.board.board);\n      let boardToolbar = await bm.listToolbar(Vue.prototype.$global.board.board);\n      for(let packageName in Vue.prototype.$global.board.package){\n        t.actionbarComp.push({info : Vue.prototype.$global.board.package[packageName], name : packageName, comp : boardActionBar[packageName]});\n        t.toolbarComp.push({info : Vue.prototype.$global.board.package[packageName], name : packageName,comp : boardToolbar[packageName] });\n      }\n    },\n    processAppToolbar : async function(t=this){\n      let t1 = [],t2 = [];\n      let appActionbar = await pm.listActionbar();\n      let appToolbar = await pm.listToolbar();\n      for(let packageName in Vue.prototype.$global.packages){\n        t1.push({info : Vue.prototype.$global.packages[packageName], name : packageName, comp : appActionbar[packageName]});\n        t2.push({info : Vue.prototype.$global.board.package[packageName], name : packageName,comp : appToolbar[packageName] });\n      }\n      t.appActionbarComp = t1;\n      t.appToolbarComp = t2;\n    }\n  }\n};\n</script>\n","import { render } from \"./AppToolbar.vue?vue&type=template&id=751b6ba6\"\nimport script from \"./AppToolbar.vue?vue&type=script&lang=js\"\nexport * from \"./AppToolbar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createBlock","_component_v_toolbar","color","fixed","dark","app","height","_ctx","$route","meta","hide_drawer","_component_v_toolbar_title","class","_createVNode","_component_v_toolbar_side_icon","onClick","_withModifiers","$options","handleDrawerToggle","_component_v_tooltip","bottom","activator","_withCtx","_ref","on","_createElementVNode","_mergeProps","_toHandlers","src","alt","style","_ref2","_createElementBlock","_Fragment","_renderList","toolbars","comp","compName","toolbarTarget","tbName","_Transition","name","_component_async_component","target","key","_component_v_divider","inset","vertical","appToolbarComp","index","info","loaded","_resolveDynamicComponent","toolbarComp","_component_v_spacer","appActionbarComp","actionbar","actionbarComp","_component_v_btn","icon","_cache","$event","handleFullScreen","_component_v_icon","_toConsumableArray","_component_notification","components","notification","AsyncComponent","data","mounted","this","$emit","created","methods","window","getApp","util","toggleFullScreen","processStaticToolbar","_processStaticToolbar","_asyncToGenerator","_regenerator","m","_callee","t","_args","arguments","w","_context","n","length","undefined","_this","cm","listToolbar","listActionbar","a","apply","processToolbar","_processToolbar","_callee2","boardActionBar","boardToolbar","packageName","_args2","_context2","bm","Vue","prototype","$global","board","v","push","processAppToolbar","_processAppToolbar","_callee3","t1","t2","appActionbar","appToolbar","_args3","_context3","pm","packages","__exports__","render"],"sourceRoot":""}