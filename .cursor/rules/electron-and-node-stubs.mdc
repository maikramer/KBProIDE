---
description: Uso de Electron/Node no build web e stubs
globs: src/**
---
## Electron e Stubs de Node

- **Sem Electron em runtime**: [src/background.js](mdc:src/background.js) exporta `null`; não há `BrowserWindow`.
- **Alias**: [vue.config.js](mdc:vue.config.js) mapeia `electron` para [src/shims/electron-renderer-stub.js](mdc:src/shims/electron-renderer-stub.js) e desabilita módulos Node via `resolve.fallback`.
- **Guarda**: Use `isElectron` como em `main.ts` antes de usar `fs`/APIs Node.
- **Leitura de arquivos**: Somente sob `isElectron` e usando `fs.promises` com `try/catch`.

### Diretrizes
- Não importar `electron` diretamente em componentes. Se necessário, isole o acesso em utilitário com fallback para web.
- Evite dependências que requerem bindings nativos.
